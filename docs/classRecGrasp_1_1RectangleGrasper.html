<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: RecGrasp.RectangleGrasper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceRecGrasp.html">RecGrasp</a></li><li class="navelem"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html">RectangleGrasper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classRecGrasp_1_1RectangleGrasper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RecGrasp.RectangleGrasper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for RecGrasp.RectangleGrasper:</div>
<div class="dyncontent">
<div class="center"><img src="classRecGrasp_1_1RectangleGrasper__inherit__graph.png" border="0" usemap="#RecGrasp_8RectangleGrasper_inherit__map" alt="Inheritance graph"/></div>
<map name="RecGrasp_8RectangleGrasper_inherit__map" id="RecGrasp_8RectangleGrasper_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for RecGrasp.RectangleGrasper:</div>
<div class="dyncontent">
<div class="center"><img src="classRecGrasp_1_1RectangleGrasper__coll__graph.png" border="0" usemap="#RecGrasp_8RectangleGrasper_coll__map" alt="Collaboration graph"/></div>
<map name="RecGrasp_8RectangleGrasper_coll__map" id="RecGrasp_8RectangleGrasper_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0cb98ced318ec1200bcdf9c2ce3efb3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#ad0cb98ced318ec1200bcdf9c2ce3efb3">__init__</a> (self)</td></tr>
<tr class="separator:ad0cb98ced318ec1200bcdf9c2ce3efb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac562f602eb075bf0cd1c2ad3984313d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#aac562f602eb075bf0cd1c2ad3984313d">forward</a> (self, images, labels)</td></tr>
<tr class="separator:aac562f602eb075bf0cd1c2ad3984313d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a35f1fe50d460d0f38492bcf498334"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#ab9a35f1fe50d460d0f38492bcf498334">extract_vector</a> (self, tup_a, tup_b)</td></tr>
<tr class="separator:ab9a35f1fe50d460d0f38492bcf498334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd37c55aeaa0d3e9cdbdd743b18c9954"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#afd37c55aeaa0d3e9cdbdd743b18c9954">translate_rectangle</a> (self, rectangle)</td></tr>
<tr class="separator:afd37c55aeaa0d3e9cdbdd743b18c9954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b0fb2f5b93966cd4fd948fa2233614"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#a77b0fb2f5b93966cd4fd948fa2233614">create_targets</a> (self, labels)</td></tr>
<tr class="separator:a77b0fb2f5b93966cd4fd948fa2233614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8460d702e661f5c8647b7a98a5d8e9d1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#a8460d702e661f5c8647b7a98a5d8e9d1">compute_loss</a> (self, targets, detections)</td></tr>
<tr class="separator:a8460d702e661f5c8647b7a98a5d8e9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1912baa545c0177bb6bffb9c402640c1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecGrasp_1_1RectangleGrasper.html#a1912baa545c0177bb6bffb9c402640c1">convert_to_pytorch</a> (self, images)</td></tr>
<tr class="separator:a1912baa545c0177bb6bffb9c402640c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad1546169a22d574c8b38b64ecbfd79bb"><td class="memItemLeft" align="right" valign="top"><a id="ad1546169a22d574c8b38b64ecbfd79bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>backbone</b></td></tr>
<tr class="separator:ad1546169a22d574c8b38b64ecbfd79bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef5739b4b064e246075cc9a670dd8a9"><td class="memItemLeft" align="right" valign="top"><a id="afef5739b4b064e246075cc9a670dd8a9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>backbone_type</b></td></tr>
<tr class="separator:afef5739b4b064e246075cc9a670dd8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889ff0d6c88723ee2556b638406cd6e4"><td class="memItemLeft" align="right" valign="top"><a id="a889ff0d6c88723ee2556b638406cd6e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>grasp_head</b></td></tr>
<tr class="separator:a889ff0d6c88723ee2556b638406cd6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Model which predicts where grasps lie in an image, and predicts a rectangle.
Visual features are calculated using a pretrained network, trained on imagenet.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad0cb98ced318ec1200bcdf9c2ce3efb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0cb98ced318ec1200bcdf9c2ce3efb3">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializes the components of the network, it has a backbone to extract
visual features, and two network outputs. A detector and regressor.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8460d702e661f5c8647b7a98a5d8e9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8460d702e661f5c8647b7a98a5d8e9d1">&#9670;&nbsp;</a></span>compute_loss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.compute_loss </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>targets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>detections</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes the loss. The negative class is much larger than the positive
so the negative class is sampled based off of the confidence in false positives.
</pre> 
</div>
</div>
<a id="a1912baa545c0177bb6bffb9c402640c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1912baa545c0177bb6bffb9c402640c1">&#9670;&nbsp;</a></span>convert_to_pytorch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.convert_to_pytorch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>images</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transform the image into a pytorch tensor for training, and return the tensor.
tensor will be placed on the same device as the calling object, because it is
expected that the tensor will be part of some calculation involving the parameters
of this object.

images (list): elements are numpy arrays of shape (H x W x C)
</pre> 
</div>
</div>
<a id="a77b0fb2f5b93966cd4fd948fa2233614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b0fb2f5b93966cd4fd948fa2233614">&#9670;&nbsp;</a></span>create_targets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.create_targets </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>labels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Format the labels so that the loss can be calculated. What is returned is a
list of dictionaries that is used by the loss functions.

labels (list): elements are lists of rectangles

targets (list): elements are lists of dictionaries containing the encoded info
</pre> 
</div>
</div>
<a id="ab9a35f1fe50d460d0f38492bcf498334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a35f1fe50d460d0f38492bcf498334">&#9670;&nbsp;</a></span>extract_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.extract_vector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tup_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tup_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper function for translate_rectangle, calculates the longest edge of
the rectangle and then returns the width, length, and angle based off that.

tup_a, tup_b (tuple): elements are floats and represent coordinates
</pre> 
</div>
</div>
<a id="aac562f602eb075bf0cd1c2ad3984313d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac562f602eb075bf0cd1c2ad3984313d">&#9670;&nbsp;</a></span>forward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.forward </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>images</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>labels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Forward pass of the RectangleGrasper model. What it returns depends on its mode.
If it is in evaluation mode, then it returns predictions &lt;what those look like
are to be defined later&gt;. If it is in training mode,
it retuns the total loss for calculating the gradient of the weights
and running backpropogation. If it is in evaluation mode then the labels are
ignored.

images (list): elements are numpy arrays of shape (H x W x C)

labels (list): elements are lists of rectangles (which are lists of 4 tuples, each
    tuple is a coordinate)
</pre> 
</div>
</div>
<a id="afd37c55aeaa0d3e9cdbdd743b18c9954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd37c55aeaa0d3e9cdbdd743b18c9954">&#9670;&nbsp;</a></span>translate_rectangle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def RecGrasp.RectangleGrasper.translate_rectangle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rectangle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper function for create_targets. Converts a rectangle given as coordinates
of the corners, to a tuple containing offsets from anchor boxes, length, width,
and angle.

rectangle (tuple): rectangle defined by coordinates, which are floats of x, y
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gmaratos/Desktop/rgrasp.pytorch/src/RecGrasp.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
